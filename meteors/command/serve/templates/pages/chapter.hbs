<main>
    {{ let len = self.card.len; }}
    {{ let id = self.card.id; }}
    {{ self.card.render(writer) }}
    <div class="hidden sm:block sm:px-6 lg:px-8 text-sm" aria-hidden="true">
        <div class="border-t border-gray-700"></div>
    </div>
    <div class="px-3 sm:px-6 lg:px-8 my-2 text-opacity-90 text-white p-wrapper">
        {{ self.chapter }}
    </div>
    <div class="hidden sm:block sm:px-6 lg:px-8 text-sm" aria-hidden="true">
        <div class="border-t border-gray-700"></div>
    </div>
    {{ #if len != 1 }}
        <footer>
            <nav>
                <a href="/story/{{ id  }}/1" class="item">first</a>
                <div class="spacer"></div>
                {{ #if self.index.saturating_sub(1) != 0 }}
                    <a href="/story/{{ id  }}/{{ self.index - 1 }}" class="item">prev</a>
                {{ else }}
                    <a href="/story/{{ id  }}/1" class="item">prev</a>
                {{ /if }}
                {{ #if self.index + 1 != len }}
                    <a href="/story/{{ id  }}/{{ self.index + 1 }}" class="item">next</a>
                {{ else }}
                    <a href="/story/{{ id  }}/{{ len }}" class="item">next</a>
                {{ /if }}
                <div class="spacer"></div>
                <a href="/story/{{ id  }}/{{ len }}" class="item">last</a>
            </nav>
        </footer>
    {{ /if }}
</main>